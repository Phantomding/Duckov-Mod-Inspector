# 🦆 Duckov Mod Inspector (鸭科夫 Mod 审计师)

**Duckov Mod Inspector** 是一个开源的《逃离鸭科夫》(Escape from Duckov) Mod **行为审计与分析工具**。

与传统的杀毒软件不同，本工具不仅仅关注“病毒”，更致力于**透明化 (Transparency)**。它利用针对二进制文件的深度静态分析技术，将 Mod 内部的**底层能力**（如联网、文件读写、进程操作）直观地展示给玩家，帮助你在安装前评估风险。

> ⚠️ **v1.3.1 紧急更新**：针对 DLL 二进制元数据特性进行了深度优化，修复了针对 Scav 1.8 等变种的漏报问题，并调整了风险提示语，将判断权完全交还给用户。

---

## ✨ 核心功能 (Core Features)

### 1. ⚡ 能力透视 (Capability Inspector)
**"知情权是安全的第一道防线。"**
即使一个 Mod 没有包含已知的恶意代码，你也有权知道它是否拥有敏感权限。v1.3+ 会列出 Mod 具备的底层能力：
* 🌐 **网络能力**：是否引用了 `System.Net` / `UnityWebRequest`？（可能用于自动更新，但也具备上传隐私的能力）
* 💾 **文件操作**：是否引用了 `System.IO`？（具备读取存档或修改系统文件的能力）
* 🔌 **外部接口**：是否集成了 `Discord SDK` 或 `Socket` 通讯？

### 2. 🛡️ 二进制深度扫描 (Binary Deep Scan)
**v1.3.1 核心升级**：针对编译后的 DLL 文件进行元数据层面的审计。
* **反逻辑炸弹**：不再依赖连续字符串，而是单独审计 `Quit` 方法调用。即使恶意代码经过编译或简单混淆，只要它试图强制退出游戏，就会被捕获。
* **身份读取审计**：精准识别 `SteamId`、`CSteamID` 等属性引用，防止恶意 Mod 窃取或校验你的 Steam 身份信息（常见于恶意封禁/白名单 Mod）。
* **高危行为**：警示 `Process.Start`（启动外部 EXE）、`Environment.Exit`（杀进程）等越权行为。

### 3. 🔍 架构完整性检查 (Architecture Check)
* **原生伪装拦截**：通过 .NET 元数据 (BSJB) 校验，识别伪装成 Mod DLL 的原生 C++ 病毒（针对 Scav 1.5 变种）。
* **Harmony 智能识别**：自动识别并豁免合法的 `0Harmony` 库，允许其进行必要的内存补丁操作 (`VirtualProtect`)，减少误报。

---

## 🚀 使用方法 (Usage)

1.  在releases页面下载最新的 `DuckovModInspector.exe`。
2.  双击运行程序。
3.  **将 Mod 文件夹或 .dll 文件直接拖入软件窗口**。
4.  等待审计报告生成（支持批量拖拽，大文件也不会卡死）。

### 📊 如何解读报告？

* **🔵 [能力透视] (Capabilities)**：
    * 表示 Mod **具备这些功能**。这不代表它是病毒，而是客观事实陈述。请自行判断一个简单的功能 Mod 是否需要“联网”。
* **🟡 [警告] (Warning)**：
    * 发现敏感操作（如调用底层 Kernel32 API）。如果是大型模组（如前置库）可能是正常的，但需确认来源。
* **🔴 [高危] (High Risk)**：
    * 发现明确的敏感特征（如**退出游戏**、**读取 SteamID**、**伪装文件格式**）。
    * **建议**：请在确认来源绝对可靠、且理解风险的情况下使用。

---

## 🛠️ 更新日志 (Changelog)

### v1.3.1 (Hotfix) - The "Deep Scan" Update
* **[修复] Quit/SteamID 漏报**：修复了因 DLL 编译后元数据分离存储导致的正则匹配失效问题。现在能精准抓取散落的 `Quit` 和 `SteamId` 引用。
* **[调整] 客观提示语**：将高危警告语从“建议不要安装”调整为“请在确认安全的情况下使用”，强调工具的辅助审计定位。

### v1.3.0 - The "Transparency" Update
* **[重构] 项目更名**：从 `Security Scanner` 更名为 `Mod Inspector`。
* **[新增] 能力透视系统**：列出 Mod 的所有敏感 API 调用。
* **[优化] 异步扫描内核**：彻底解决拖拽 10MB+ 大型 DLL 导致程序卡死的问题。
* **[修复] 二进制截断 Bug**：修复了空字符 (Null Bytes) 导致文件读取不全的 Bug。

---

## ⚖️ 局限性与免责声明 (Disclaimer)

**请在下载前仔细阅读：**

1.  **这不是杀毒软件**：本工具仅针对《逃离鸭科夫》Mod 的特定行为进行审计，无法查杀传统的木马病毒或勒索软件。
2.  **静态分析的局限**：本工具基于静态特征分析。高级的恶意代码（如动态内存注入、云端热加载 Payload）可能绕过检测。
3.  **最终决定权在你**：工具提供的只是**数据**（它干了什么），而非**判决**（它是好是坏）。

**开发者不对因使用本工具或依据本工具报告而导致的任何损失（包括但不限于游戏封号、存档丢失、系统损坏）承担责任。**

---

## 🤝 贡献 (Contribution)

Duckov Mod Inspector 是一个开源项目，欢迎社区成员共同维护。

* **提交 Issue**：如果你发现了新的恶意 Mod 样本或 Bug。
* **提交 PR**：如果你有更好的检测规则或性能优化方案。

---

Copyright © 2025 Duckov Security Community.
